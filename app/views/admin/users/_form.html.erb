<div class="form-container">
  <%= form_with(model: [:admin, user], class: "form-section") do |form| %>
    <div class="form-field-group">
      <h3 class="hd2-card">User Information</h3>
      <p class="form-hint">Basic information about the user account.</p>
    </div>

    <div class="form-field-group">
      <%= form.label :email, class: "form-label" %>
      <%= form.email_field :email, 
          autocomplete: "email", 
          class: ["form-field", user.errors[:email].any? ? "form-field-error" : ""], 
          placeholder: "user@example.com" %>
      <% if user.errors[:email].any? %>
        <p class="form-error"><%= user.errors[:email].first %></p>
      <% end %>
    </div>

    <div class="form-field-group">
      <%= form.label :first_name, class: "form-label" %>
      <%= form.text_field :first_name, 
          class: ["form-field", user.errors[:first_name].any? ? "form-field-error" : ""], 
          placeholder: "First Name" %>
      <% if user.errors[:first_name].any? %>
        <p class="form-error"><%= user.errors[:first_name].first %></p>
      <% end %>
    </div>

    <div class="form-field-group">
      <%= form.label :last_name, class: "form-label" %>
      <%= form.text_field :last_name, 
          class: ["form-field", user.errors[:last_name].any? ? "form-field-error" : ""], 
          placeholder: "Last Name" %>
      <% if user.errors[:last_name].any? %>
        <p class="form-error"><%= user.errors[:last_name].first %></p>
      <% end %>
    </div>

    <div class="form-field-group">
      <%= form.label :preferred_name, class: "form-label" %>
      <%= form.text_field :preferred_name, 
          class: ["form-field", user.errors[:preferred_name].any? ? "form-field-error" : ""], 
          placeholder: "Preferred Name (Optional)" %>
      <% if user.errors[:preferred_name].any? %>
        <p class="form-error"><%= user.errors[:preferred_name].first %></p>
      <% else %>
        <p class="form-hint">How the user would like to be addressed.</p>
      <% end %>
    </div>

    <div class="form-field-group">
      <%= form.label :bio, class: "form-label" %>
      <%= form.text_area :bio, 
          rows: 4, 
          class: ["form-field", user.errors[:bio].any? ? "form-field-error" : ""], 
          placeholder: "User biography (Optional)" %>
      <% if user.errors[:bio].any? %>
        <p class="form-error"><%= user.errors[:bio].first %></p>
      <% else %>
        <p class="form-hint">A brief description about the user.</p>
      <% end %>
    </div>

    <div class="form-field-group mt-8">
      <h3 class="hd2-card">Authentication</h3>
      <p class="form-hint">Password and access settings.</p>
    </div>

    <div class="form-field-group">
      <%= form.label :password, class: "form-label" %>
      <%= form.password_field :password, 
          autocomplete: "new-password", 
          class: ["form-field", user.errors[:password].any? ? "form-field-error" : ""] %>
      <% if user.errors[:password].any? %>
        <p class="form-error"><%= user.errors[:password].first %></p>
      <% else %>
        <% if user.new_record? %>
          <p class="form-hint">Password is required for new users.</p>
        <% else %>
          <p class="form-hint">Leave blank if you don't want to change the password.</p>
        <% end %>
      <% end %>
    </div>

    <div class="form-field-group">
      <%= form.label :password_confirmation, class: "form-label" %>
      <%= form.password_field :password_confirmation, 
          autocomplete: "new-password", 
          class: ["form-field", user.errors[:password_confirmation].any? ? "form-field-error" : ""] %>
      <% if user.errors[:password_confirmation].any? %>
        <p class="form-error"><%= user.errors[:password_confirmation].first %></p>
      <% end %>
    </div>

    <div class="mb-6 bg-gray-100 p-4 rounded-md">
      <div class="flex items-center">
        <%= form.check_box :is_admin, class: "h-4 w-4 rounded-sm border-gray-300 text-indigo-600 focus:ring-indigo-500 mr-2" %>
        <%= form.label :is_admin, "Admin Access", class: "form-label pt-2" %>
      </div>
      <p class="form-hint">Grant admin privileges to this user.</p>
    </div>

    <div class="mt-8 flex justify-end space-x-3">
      <%= form.submit class: "submit-button w-full" %>
    </div>
  <% end %>
</div>
